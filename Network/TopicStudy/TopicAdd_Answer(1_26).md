### ✅ HTTP 통신과 TCP 통신의 차이점

---

#### 💬 HTTP와 TCP 통신

1. HTTP 통신

- OSI 7계층의 애플리케이션계층에 해당하는 프로토콜
- 웹 브라우저와 서버 간에 웹 콘텐츠를 주고 받는데 사용하는 프로토콜
- HTTP 통신은 비연결지향적인 단방향 통신 프로토콜

2. TCP 통신

- OSI 7계층의 전송 계층에 해당하는 프로토콜
- 네트워크를 통해 데이터를 전송하는데 사용되는 프로토콜
- TCP 통신은 연결지향적인 양방향 통신 프로토콜

+) OSI 7계층

- 7계층: 응용 계층
- 6계층: 표현 계층
- 5계층: 세션 계층
- 4계층: 전송 계층
- 3계층: 네트워크 계층
- 2계층: 데이터 링크 계층
- 1계층: 물리 계층
  ![1.png](image%2FTopicAddAnswer%2F01_26%2F1.png)

<br/>

#### 🧑🏻‍🏫 정리

#### Q. HTTP 통신과 TCP 통신의 차이점에 대해서 설명해주세요.

#### A: HTTP 통신은 OSI 7계층에서 애플리케이션 계층에 해당하는 프로토콜로써, 웹 브라우저와 웹 서버간 콘텐츠를 주고 받는데 사용하는 프로토콜이며 비연결지향적인 단방향 통신입니다.

#### 반면 TCP 통신은 OSI 7계층의 전송계층에서 사용되는 프로토콜로써, 데이터 전송을 위해 사용되며 연결지향적인 양방향성 통신을 지향합니다.

#### Q. OSI 7계층이란 무엇이며, 해당 계층을 설명해주세요.

#### A: OSI 7계층이란 네트워크의 프로토콜을 7계층으로 나눈 계층이며,

#### 응용계층, 표현 계층, 세션 계층, 전송 계층, 네트워크 계층, 링크 계층, 물리 계층으로 구성되어 있습니다.

#### Q. OSI 7계층과 TCP/IP 계층에 대해서 설명해주세요.

#### A: OSI 7계층은 네트워크의 프로토콜을 7계층으로 나눈 계층이며, 각 계층은 네트워크 통신 과정에서 틍적 기능을 담당하며 독립적으로 작동합니다.

#### TCP/IP 계층이란 인터넷 통신을 기준으로 나눈 4계층으로 나눈 계층이며, 실제 인터넷 통신 과정에 대해서 사용됩니다.

<br/>

### ✅ HTTP/3의 UDP 사용

---

#### 💬 HTTP의 버전

- HTTP 통신 버전은 크게 1.1버전, 2.0버전, 3.0 버전으로 구분할 수 있음

##### HTTP 1.1 버전

- HTTP 1.1 버전은 첫 HTTP 프로토콜의 버전으로써 1997년에 도입됨
- 지정된 연결 가능 시간 동안 커넥션 연결을 재사용하여 기존 연결의 메세지를 주고 받는 동안 3-Way HandShake 연결과정을 생략할 수 있음

![2.png](image%2FTopicAddAnswer%2F01_26%2F2.png)

<br/>

##### HTTP 2.0 버전

- HTTP 2.0 버전은 2015년에 발표됨
- 단일 TCP 연결을 통해 여러 요청과 응답 메시지를 동시에 전송할 수 잇음
- 다중화(Multiplexing): 하나의 TCP 연결에서 여러 개의 요청과 응답 메시지를 동시에 처리할 수 있음
- 서버 푸시(Server Push): 서버가 클라이언트의 요청에 대한 응답과 함께 추가적인 리소스를 클라이언트에게 보낼 수 있게됨
- 헤더 압축(Header Compression): HTTP 헤더 정보를 압축하여 네트워크 대역폭의 사용을 줄임

![3.png](image%2FTopicAddAnswer%2F01_26%2F3.png)

<br/>

##### HTTP 3.0 버전

- TCP 대신 UDP기반의 QUIC 프로토콜을 사용함

##### QUIC 프로토콜: TCP를 대체하는 범용 목적의 UDP 기반의 프로토콜

- 기존 UDP와 동일하게 전송 계층에서 작동하지만, UDP 위에 새로운 계층(TCP의 패킷 재전송, 혼잡제어, 속도 조정의 기능)을 추가하여 신뢰성을 제공함
- **QUIC Connection**
- QUIC 프로토콜의 연결은 전송 핸드 쉐이크, 암호화 등을 포함하고 있어 기존의 TCP 통신의 연결 설정의 지연시간을 줄여줌
- 기존의 연결이 끝나기를 먼저 기다릴 필요 없이, 같은 호스트로의 또다른 논리 연결도 동시에 처리할 수 있음

![4.png](image%2FTopicAddAnswer%2F01_26%2F4.png)

![5.png](image%2FTopicAddAnswer%2F01_26%2F5.png)

<br/>

#### 🧑🏻‍🏫 정리

#### Q. HTTP/3 이 UDP를 사용해서 얻은 이점은 무엇이 있을까요?

#### A: HTTP/3은 기존 HTTP/2 버전의 TCP 대신 UDP기반의 QUIC 프로토콜을 사용함으로써, 기존 TCP 통신이 가지고 있는 연결 설정의 지연시간을 줄이는 이점이 있습니다.

#### QUIC 프로토콜이란 기존 UDP와 동일하게 전송 계층에서 작동하지만, UDP 위에 새로운 계층(TCP의 패킷 재전송, 혼잡 제어, 속도 조정의 기능)을 추가하여 신뢰성을 제공합니다.

#### 또한 QUIC 프로토콜은 기존의 연결이 끝나기를 먼저 기다릴 필요 없이, 같은 호스트로의 또다른 논리 연결도 동시에 처리할 수 있다는 장점을 가지고 있습니다.

#### Q. 그렇다면 HTTP/2 버전에 대해서 설명해주세요.

#### A: HTTP/2 버전은 TCP 기반으로 동작하며 단일 TCP 연결을 통해 여러 요청과 응답 메시지를 동시에 전송할 수 있습니다.

#### 그리고 기존 HTTP/1버전 대비 HTTP 헤더 정보를 압축하여 네트워크 대역폭의 사용을 줄이고, 서버 푸시 등의 기능이 추가되었습니다.

#### Q. 그렇다면 HTTP/1.1 버전은 무엇인가요?

#### A: HTTP 1.1 버전이란 첫 HTTP 프로토콜의 버전으로써, 지정된 연결 가능 시간동안 커넥션 연결을 재사용하여, 기존 연결의 메세지를 주고 받는 동안 3-Way HandShake 연결과정을 생략할 수 있습니다.

<br/>

### ✅ TCP의 흐름제어

---

#### 💬 TCP의 흐름제어

- TCP의 흐름제어 기법에는 크게 Stop-and-Wait 재전송(ACK 확인 응답 기반 흐름 제어), 윈도우 기반 흐름 제어(Window-Based Flow Control)이 2가지가 있음

##### Stop-And-Wait 재전송(ACK 확인 응답 기반 흐름 제어)

- TCP 연결동안 매번 재전송한 패킷에 대한 확인 응답을 받아야만, 그 다음 패킷을 전송하는 기법

![14.png](image%2FTopicAddAnswer%2F01_26%2F14.png)

<br/>

##### 윈도우 기반 흐름 제어(Window-Based Flow Control)

- 수신자가 처리할 수 있는 데이터의 양을 제어하는데 사용됨
- 수신자는 TCP 헤더의 윈도우 크기 필드에 수신 가능한 데이터 정보를 표시하여 송신자에게 보냄
- 송신자는 해당 윈도우 크기를 확인하고, 이에 따라 데이터를 전송함
- 윈도우 크기가 작아지면 데이터 전송 속도가 줄어들고, 윈도우 크기가 커지면 데이터 전송 속도가 증가함

![6.png](image%2FTopicAddAnswer%2F01_26%2F6.png)

##### 윈도우

- TCP에서 윈도우란 데이터 전송을 제어하는데 사용되는 버퍼의 크기를 의미함
- 송신자와 수신자 사이 간 정해지며, 네트워크의 혼잡 상황이나 수신자의 처리 능력에 따라 동적으로 변할 수 있음
- 윈도우 크기 = 수신자가 한번에 처리할 수 있는 데이터의 양을 의미함
- 송신자는 해당 윈도우의 크기를 초과하여 데이터를 보내지 않음
- 윈도우 크기를 조절함으로써, TCP는 네트워크의 과부화를 방지하고 데이터의 효율적인 전송을 보장함

##### 수신 윈도우

![7.png](image%2FTopicAddAnswer%2F01_26%2F7.png)

##### 송신 윈도우

![8.png](image%2FTopicAddAnswer%2F01_26%2F8.png)

<br/>

#### 🧑🏻‍🏫 정리

#### Q. TCP의 흐름제어에 대해서 설명해주세요.

#### A: TCP의 흐름제어 기법에는 크게 Ack 확인 응답 기반의 흐름제어인 Stop-and-Wait 재전송 방식과 윈도우 기반 흐름 제어 2가지가 있습니다.

#### Stop-And-Wait 재전송 기법이란 TCP 연결동안 매번 재전송한 패킷에 대한 확인 응답을 받아야만, 그 다음 패킷을 전송하는 기법을 의미하며

#### 윈도우 기반 흐름제어는 수신자가 TCP 헤더의 윈도우 크기 필드에 수신 가능 정보한 데이터 정보를 표시하여 송신자에게 보내고, 송신자는 해당 윈도우 크기를 확인하여 데이터량을 조절하여 전송합니다.

#### Q. 윈도우 기반의 윈도우는 어떤 것을 의미하나요?

#### A: TCP에서 윈도우란 데이터 전송을 제어하는데 사용되는 버퍼의 크기를 의미합니다. 이는 송,수신자 사이간에서 정해지며 네트워크의 혼잡 상황이나 수신자의 처리 능력에 따라 동적으로 변할 수 있습니다.

#### 여기서 윈도우 크기란 수신자가 한번에 처리할 수 있는 데이터의 양을 의미하며, 송신자는 수신자의 윈도우 크기를 초과하여 데이터를 보내지 않습니다.

#### TCP는 윈도우 크기를 조절함으로써, 네트워크 상에서 발생할 수 있는 과부화를 방지하고 데이터의 효율적인 전송을 보장합니다.

<br/>

### ✅ TCP 통신의 단점

---

#### 💬 TCP 통신의 단점

- TCP는 데이터 전송의 신뢰성을 보장하지만, 매번 데이터 전송을 위한 연결 시 연결 확보를 위한 3-Way HandShake으로 인해 시간 손실이 발생함
- 패킷을 조금만 손실해도 재전송함
- 1:1 통신만 가능함
- 고정된 통신 경로가 최단선이 아닐 경우, 상대적으로 UDP보다 데이터 전송이 느림

ex) 좌: 원본, 우: 조금 수정

![9.png](image%2FTopicAddAnswer%2F01_26%2F9.png)

<br/>

#### 🧑🏻‍🏫 정리

#### Q. TCP 통신의 단점을 설명해주세요.

#### A: TCP 통신은 데이터 전송의 신뢰성을 보장하지만, 매번 데이터 전송을 위한 연결 시 연결 확보를 위한 3-Way HandShake 과정을 거치므로 시간 손실이 발생됩니다.

#### 또한, 패킷이 조금만 손실이 되어도 재전송하며, 1:1 통신만 가능합니다.

#### 만약 TCP 통신으로 연결된 통신 경로가 최단선이 아닐 경우, 상대적으로 UDP보다 데이터 전송 속도가 느리게 됩니다.

#### Q. "TCP 통신은 1:1 통신만 가능하다"라고 했는데, UDP는 1:다 통신이 가능한가요?

#### A: 네. UDP 통신은 1:1 통신, 1:다 통신이 가능합니다.

#### UDP는 하나의 송신자가 하나의 수신자(1:1 통신)에게 데이터를 전송하는 유니 캐스트 방식을 지원하며,

#### 하나의 통신자가 특정 그룹에 속한 여러 송신자들(1:다 통신)에게 보내는 멀티 캐스트, 하나의 송신자가 네트워크에 연결된 모든 수신자들(1:다 통신)에게 동시에 데이터를 전송하는 브로드 캐스트 방식을 지원합니다.

#### Q. 멀티 캐스트와 브로드 캐스트의 차이점은 무엇인가요?

#### A: 멀티 캐스트와 브로드 캐스트는 모두 1:다 통신을 가능하게 하는 방식이지만 연결 대상이 다릅니다.

#### 멀티 캐스트는 송신자의 특정 IP 주소 그룹을 대상으로 데이터에 전송하며, 해당 그룹에 속하지 않는 수신자는 데이터를 받지 봇합니다.

#### 반면 브로드 캐스트는 송신자의 네트워크에 있는 모든 장치에 데이터를 전송합니다. 해당 네트워크 상에 잇는 모든 장치에게 알림을 보내야 하는 경우에 사용됩니다.

<br/>

### ✅ TCP 통신의 에러 제어 방법

---

#### 💬 TCP 통신의 에러 제어 방법

- TCP 통신은 수신자측에서 데이터에 대한 에러 처리를 하는 FEC(Forward Error Correction) 방법과 송신자 측에서 에러를 처리하는 BEC(Backward Error Correction) 방법이
  있음

<br/>

#### 체크섬(CheckSum) - FEC(Forwrd Error Correction: 수신자측의 데이터 에러 처리)

- 원본 메시지를 N개의 블록으로 나누어, 해당 블록의 합산을 후 마지막에 1의 보수를 취해 체크섬 비트를 추가하는 방식
- 수신자측에서는 해당 데이터를 받아 역산한 후, 모두 1이라면 정상적인 데이터를 수신하였다고 판단, 모두 1이 아니라면 비정상적인 데이터를 수신하였다고 판단함

![10.png](image%2FTopicAddAnswer%2F01_26%2F10.png)

![11.png](image%2FTopicAddAnswer%2F01_26%2F11.png)

<br/>

#### Stop-And Wait 방식, Go-Back-N 방식, Selective Repeat 재전송 방식 - BEC(Bakward Error Correction:송신자측의 데이터 에러 처리)

<br/>

#### Stop-And Wait 재전송 방식

- TCP 연결동안 매번 재전송한 패킷에 대한 확인 응답을 받아야만, 그 다음 패킷을 전송하는 방법

![14.png](image%2FTopicAddAnswer%2F01_26%2F14.png)

<br/>

#### Go-Back-N 방식

- 한 패킷에 대한 응답이 오지 않는다면, 해당 패킷부터 다시 재전송하는 방법

![12.png](image%2FTopicAddAnswer%2F01_26%2F12.png)

<br/>

#### Selective Repeat 방식

- 오류가 발생한 패킷을 선택적으로 재전송하는 방식

![13.png](image%2FTopicAddAnswer%2F01_26%2F13.png)

<br/>

#### 🧑🏻‍🏫 정리

#### Q. TCP 통신의 에러 제어 방법에 대해서 설명해주세요.

#### A: TCP 통신은 수신자측에서 데이터에 대한 에러 처리를 하는 방식인 FEC(Forward Error Correction)방식과 송신자 측에서 에러를 처리하는 BEC(Backward Error Correction) 방식이 있습니다.

#### 수신자측에서 데이터 에러 처리를 하기 위한 방식으로는 체크섬이 있습니다. 체크섬이란, 원본 데이터 메시지를 N개의 블록으로 나누어 해당 블록의 합산 후 마지막에 1의 보수를 취해 체크섬 비트를 추가하는 방식입니다.

#### 수신자 측에서는 해당 데이터를 받아 역산한 후, 모두 1이라면 정상적인 데이터를 수신하였다고 판단하며, 모두 1이 아니라면 비정상적인 데이터를 수신하였다고 판단합니다.

#### 송신자측에서 데이터 에러 처리를 하기 위한 방식으로는 Stop-And Wait 재전송 방식, Go-Back-N 방식, Selective Repeat 방식이 있습니다.

#### Stop-And Wait 재전송 방식은 TCP 연결동안 매번 재전송한 패킷에 대한 확인 응답을 받아야만 그 다음 패킷을 전송하는 방법을 의미하며

#### Go-Back-N 방식은 한 패킷에 대한 응답이 오지 않는다면, 해당 패킷부터 다시 재전송하는 방식을 의미하고

#### Selective Repeat 방식은 오류가 발생한 패킷을 선택적으로 재전송하는 방식을 의미합니다.

#### 또한, 패킷이 조금만 손실이 되어도 재전송하며, 1:1 통신만 가능합니다.

#### 만약 TCP 통신으로 연결된 통신 경로가 최단선이 아닐 경우, 상대적으로 UDP보다 데이터 전송 속도가 느리게 됩니다.

<br/>

### ✅ SYN Flood와 Dos 공격

---

#### 💬 SYN Flood

- TCP의 3-Way HandShake 과정 중 취약점을 이용하여 Dos(Denier Of Service: 서비스 거부 )이 이루지도록 하는 공격 기법
- Syn 패킷을 통해서 공격하는 기법

<br/>

#### Syn Flood가 일어나는 이유

- 공격자는 서버에게 Syn 패킷을 보내고 서버는 이에 대한 Syn 패킷과 Ack 패킷을 보낸후, 공격자로부터 Ack 패킷이 올때까지 대기함
- 중간에 여러 노드들을 거치면서 패킷 손실이 일어날 수 있기 때문에 서버는 응답에 대한 대기가 필요함
- 서버는 받은 Syn 패킷을 백로그 큐에다가 순차적으로 저장하는데, 이는 송신자로부터 Ack 패킷이 오면 삭제하거나, TimeOut(연결 요청 시간 아웃)이 발생될 때 삭제함
- 공격자는 Ack 패킷을 보내지 않고, 게속 연결 요청만 보내기에, 서버 측의 백로그 큐가 꽉차, Dos(Denier Of Service: 서비스 거부 )이 일어나 서비스가 다운됨

<br/>

#### 🧑🏻‍🏫 정리

#### Q. Syn Flood와 Dos를 연관지어 설명해주세요.

#### A:Syn Flood란 3-Way HandShake 과정 중 취약점을 이용하여  서비스 거부(Dos)가 이루어지록 하는 공격 기법을 의미합니다.

#### 이는 클라이언트와 서버 간 연결 요청,응답을 위한 Syn 패킷과 Ack 패킷을 주고 받는 동안 일어나는 과정을 이용하여 공격하는 기법으로써

#### 공격자는 연결 요청인 Syn 패킷을 송신하여 서버 측으로 부터 Syn 패킷과 Ack 패킷을 응답받아 아무런 패킷을 재송신하지 않습니다.

#### 서버 입장에서는 공격자로 부터 받는 Syn 패킷을 백로그 큐에 담아둠으로써, 이후 응답이 오게 되면 백로그 큐에 저장된 Syn 패킷을 삭제합니다.

#### 공격자로 부터 계속 연결 확인 응답인 Ack 패킷을 받지 못해 백 로그 큐에 Syn 패킷이 쌓임과 동시에 계속 연결 요청인 Syn 패킷을 받아 서비스가 다운됩니다.

#### Q. Syn Flood 공격을 예방하려면 어떤 방법이 있을까요?

#### A: Syn Flood 공격을 예방하려면 방화벽 단에서 Syn을 먼저 받고, Syn 쿠키를 포함한 Syn,ACK 패킷을 보내는 방법,

#### 방화벽 단에서 정상적인 3-Way HandShake 과정이 이루어지도록 하는 Syn Proxy 방법등이 있습니다.

<br/>

### 📚 참고자료

---

[HTTP통신과 TCP 통신](https://sooolog.dev/HTTP-%ED%86%B5%EC%8B%A0%EA%B3%BC-TCP-%ED%86%B5%EC%8B%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%9B%B9-%EC%86%8C%EC%BC%93%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC/)

[HTTP의 버전별 특징](https://csj000714.tistory.com/733)

[TCP의 흐름제어](https://gyoogle.dev/blog/computer-science/network/%ED%9D%90%EB%A6%84%EC%A0%9C%EC%96%B4%20&%20%ED%98%BC%EC%9E%A1%EC%A0%9C%EC%96%B4.html)

[우테코 - 10분 테코톡](https://www.youtube.com/watch?v=ikDVGYp5dhg)

[TCP와 UDP의 차이](https://velog.io/@devharrypmw/TCPUDP-TCP%EC%99%80-UDP%EC%9D%98-%ED%8A%B9%EC%A7%95%EA%B3%BC-%EC%B0%A8%EC%9D%B4)

[TCP의 에러 제어 방법](https://ohaengsa.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-TCP-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%EC%9D%B4%ED%95%B4)

[Normaltic Place - SYN Floding](https://www.youtube.com/watch?v=4_pGxATalT8)

[Syn Flood공격과 방어 기법](https://sata.kr/entry/DOSDDOS-SYN-Flooding-%EA%B3%B5%EA%B2%A9%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90)
