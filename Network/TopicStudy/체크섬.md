
### ✅ 체크섬(CheckSum)

---

#### 💬 정의
- 전송 계층 프로토콜(TCP와 UDP)의 오류 감지 매커니즘의 일종을 의미함
- 데이터 송, 수시간 오류를 검증하기 위해 데이터 합계를 체크하는 방식

![1.png](image%2FCheckSum%2F1.png)

<br/>

#### 🏃🏻 체크섬 생성과정(송신자)

1. 원본 메시지를 각 블록에 n 비트가 포함된 K개의 블록으로 구분함

ex) 20개의 비트가 존재함 
if) 4개의 블록이 필요함
-> 각 블록당 5개의 비트가 존재하도록 나눔

![2.png](image%2FCheckSum%2F2.png)

ex) N개의 비트를 4개로 구분한 예

![3.png](image%2FCheckSum%2F3.png)


2. K개의 데이터 블록을 모두 덧셈함

![5.png](image%2FCheckSum%2F5.png)

ex) 4개의 블록으로 구분된 N개의 비트를 모두 덧셈함

![6.png](image%2FCheckSum%2F6.png)

3. 모두 합한 후, 캐리(올림자)가 잇다면 해당 캐리를 합산에 추가함

ex) 덧셈 후, 캐리(올림자)가 있다면 해당 캐리를 합산에 추가함

- 캐리(올림자) 존재

![7.png](image%2FCheckSum%2F7.png)

- 해당 캐리(올림자)를 합산에 추가함

![8.png](image%2FCheckSum%2F8.png)

4. 최종 결과에 대해서 1의 보수를 취함 = CheckSum 비트 생성

![9.png](image%2FCheckSum%2F9.png)

ex) 모든 결과에 대해서 1의 보수를 취함

![10.png](image%2FCheckSum%2F10.png)

5. 데이터 앞에 CheckSum 비트를 추가하여 수신자에게 전송됨

![11.png](image%2FCheckSum%2F11.png)

<br/>

#### 🧑🏻‍🏫 정리

- 모든 데이터 블록은 n비트로 구성되고, 체크섬도 n비트로 구성됨

![12.png](image%2FCheckSum%2F12.png)

<br/>

#### ⚽️ 체크섬 검증과정(수신자)

1. CheckSum 비트를 포함한 모든 데이터 블록을 수신 받음

![13.png](image%2FCheckSum%2F13.png)

2. 데이터 블록과 체크섬 비트를 합산함

![14.png](image%2FCheckSum%2F14.png)

3. 합산한 모든 결과가 1인지 아닌지 판단하여 데이터를 수신하거나 거부함

1) 합산한 모든 결과가 1이라면 -> 데이터 수신 승인

2) 합산한 모든 결과가 1이지 않다면 -> 데이터 수신 거부

![15.png](image%2FCheckSum%2F15.png)

<br/>

#### 🔎 체크섬의 성능
1. CheckSum은 데이터의 무결성을 검사하는 기본적인 방법으로, 단일 비트 오류를 효과적으로 감지할 수 있음
2. 비교적 간단하고 빠른 계산으로 인해 속도 이슈가 적음

<br/>

#### ❎ 체크섬에서 주의해야 할 점
- CheckSum은 모든 오류를 감지할 수 있는 것은 아님
- 특히, 다중 비트 오류, 즉 여러 비트가 동시에 변경되는 경우 감지하지 못함
- 한 세그먼트의 비트와 다른 세그먼트의 동일한 위치의 비트가 동시에 오류가 발생하면, 그 합이 변경되지 않을 수 있음
- 체크섬은 오류를 감지하는 기능만 있고, 오류를 수정하거나 복구하는 기능은 없음
-> 이는 상위 레벨의 프로토콜이나 애플리케이션에서 처리해야 함

### 📚 참고자료

---

[체크섬](https://www.youtube.com/watch?v=AtVWnyDDaDI)