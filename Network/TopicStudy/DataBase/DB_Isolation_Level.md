### ✅ 4. 트랜잭션 격리 레벨에 대해 설명해 주세요.

#### 격리 레벨

- 트랜잭션 격리수준(isolation level)이란 동시에 여러 트랜잭션이 처리될 때, 트랜잭션끼리 얼마나 서로 고립되어 있는지를 나타내는 것이다.
- 즉, 간단하게 말해 특정 트랜잭션이 다른 트랜잭션에 변경한 데이터를 볼 수 있도록 허용할지 말지를 결정하는 것이다.

#### 격리 레벨의 종류

1. READ UNCOMMITTED

- 다른 트랜잭션이 커밋하지 않은 데이터를 읽을 수 있다.

2. READ COMMITTED

- 다른 트랜잭션이 커밋한 데이터만 읽을 수 있다.

3. REPEATABLE READ

- 트랜잭션 내에서 같은 쿼리를 여러 번 실행해도 같은 결과를 보장한다.

4. SERIALIZABLE

- 트랜잭션 간에 순차적으로 실행되는 것처럼 보장한다.

---

#### MySQL 언두  영역과 리두 영역

#### Undo 영역

- 트랜잭션이 롤백되어야 할 때 이전 상태로 되돌릴 수 있도록 데이터 변경 내역을 저장한다.
- UPDATE 문장이나 DELETE 문장으로 데이터를 변경했을 때 변경되기 전의 데이터(이전 데이터)를 보관하는 곳입니다.

#### 사용 예시

```sql
-- 트랜잭션 시작
START TRANSACTION;
-- 데이터 변경
UPDATE 테이블명
SET 컬럼명 = 변경할값
WHERE 조건;
-- 롤백
ROLLBACK;
-- 커밋
COMMIT;
```

#### 사용 이유

- 트랜잭션의 롤백 대비용
- 트랜잭션의 격리 수준을 유지하면서 높은 동시성을 제공

![8.png](image%2F8.png)
![9.png](image%2F9.png)

#### Redo 영역

- 시스템 장애가 발생했을 때 데이터를 복구하는 데 사용된다.
- 트랜잭션이 커밋되었을 때, 변경 내역은 디스크에 바로 기록되지 않고 Redo 로그 버퍼에 먼저 기록되며, 이후에 디스크에 기록된다.
- 데이터베이스의 변경 내역을 로그로 남기는 것이다.

#### 사용 예시

```sql
-- 트랜잭션 시작
START TRANSACTION;
-- 데이터 변경
UPDATE 테이블명
SET 컬럼명 = 변경할값
WHERE 조건;
-- 롤백
ROLLBACK;
-- 커밋
COMMIT;
```

#### 사용 이유

- 데이터베이스의 변경 내역을 로그로 남기는 것이다.
- 시스템 장애가 발생했을 때 데이터를 복구하는 데 사용된다.

- ![10.png](image%2F10.png)

#### 스토리지 엔진

- 데이터베이스 관리 시스템(DBMS)이 데이터베이스에 대해 데이터를 삽입, 추출, 업데이트 및 삭제하는데 사용하는 기본 소프트웨어 컴포넌트 이다.
- 스토리지 엔진은 데이터베이스의 내부 동작을 제어하고 데이터베이스의 성능, 안정성 및 복구 기능을 결정한다.

#### 사용 예시

```sql
-- InnoDB 스토리지 엔진 사용
CREATE TABLE 테이블명
(
    컬럼명 데이터타입
) ENGINE=InnoDB;
```

#### MySQL의 스토리지 엔진

- 스토리지엔진은 DB에서 데이터를 어떠한 방식으로 저장하고 접근할 것인지에 대한 기능을 제공한다.
- MySQL은 InnoDB, MyISAM, MEMORY, NDB, ARCHIVE, CSV, BLACKHOLE, FEDERATED,
- EXAMPLE, MRG_MYISAM, PERFORMANCE_SCHEMA, Aria, TokuDB 등 다양한 스토리지 엔진을 제공한다.

#### MyISAM 스토리지 엔진

- MySQL 5.5 이전 버전에서 기본 스토리지 엔진으로 사용되었으나, 5.5 이후 버전에서는 InnoDB 스토리지 엔진이 기본 스토리지 엔진으로 사용된다.
- MyISAM은 테이블 단위 잠금을 사용하며, 트랜잭션을 지원하지 않는다.
- MyISAM은 트랜잭션과 외래키를 지원하지 않는다.
- MyISAM은 풀 텍스트 인덱싱을 지원한다.
- MyISAM은 테이블을 디스크에 저장하고, 인덱스를 메모리에 저장한다.

#### InnoDB 스토리지 엔진

- InnoDB는 MySQL 5.5 이후 버전에서 기본 스토리지 엔진으로 사용된다.
- InnoDB는 행 단위 잠금을 사용하며, 트랜잭션을 지원한다.
- InnoDB는 외래키를 지원한다.
- InnoDB는 풀 텍스트 인덱싱을 지원하지 않는다.
- InnoDB는 테이블과 인덱스를 메모리에 저장한다.

### 📚 References

---

https://joont92.github.io/db/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-isolation-level/
https://devlog-wjdrbs96.tistory.com/368